


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This hands-on workshop is where you will learn about a number of AWS services involved with threat detection and response as we walk through real-world threat scenarios. Learn about the threat detection capabilities of Amazon GuardDuty, Amazon Macie and AWS Security Hub and the available response options. For each hands-on scenario, we review methods to detect and respond to threats using the following services: AWS CloudTrail, Amazon VPC flow logs, Amazon CloudWatch Events, Amazon Macie, AWS Lambda, Amazon Inspector, Amazon GuardDuty and Amazon Security Hub.">
      
      
        <link rel="canonical" href="https://vul-mgmt-program.awssecworkshops.com/module3/">
      
      
        <meta name="author" content="aws-security-workshops@amazon.com">
      
      <link rel="shortcut icon" href="../assets/images/aws-favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.6">
    
    
      
        <title>Module 3: Vulnerability Assessment - Build a Vulnerability Management Program Using AWS for AWS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.63b94e9e.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#vulnerability-assessment-and-patch-manager-setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://vul-mgmt-program.awssecworkshops.com/" title="Build a Vulnerability Management Program Using AWS for AWS" class="md-header-nav__button md-logo" aria-label="Build a Vulnerability Management Program Using AWS for AWS">
      
  <img src="../assets/images/aws_smile_logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Build a Vulnerability Management Program Using AWS for AWS
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Module 3: Vulnerability Assessment
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/aws-samples/aws-vulnerability-management-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/aws-vulnerability-management-workshop
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://vul-mgmt-program.awssecworkshops.com/" title="Build a Vulnerability Management Program Using AWS for AWS" class="md-nav__button md-logo" aria-label="Build a Vulnerability Management Program Using AWS for AWS">
      
  <img src="../assets/images/aws_smile_logo.png" alt="logo">

    </a>
    Build a Vulnerability Management Program Using AWS for AWS
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/aws-samples/aws-vulnerability-management-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/aws-vulnerability-management-workshop
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../module1/" title="Module 1: Asset Management" class="md-nav__link">
      Module 1: Asset Management
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../module2/" title="Module 2: AMI Factory" class="md-nav__link">
      Module 2: AMI Factory
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Module 3: Vulnerability Assessment
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Module 3: Vulnerability Assessment" class="md-nav__link md-nav__link--active">
      Module 3: Vulnerability Assessment
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up-and-running-amazon-inspector" class="md-nav__link">
    Setting up and Running Amazon Inspector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#patching-your-windows-and-linux-instances-with-aws-ssm-patch-manager" class="md-nav__link">
    Patching your Windows and Linux instances with AWS SSM Patch Manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-ec2-instance-role-for-ssm-and-tagging-under-a-patch-group" class="md-nav__link">
    Creating EC2 instance Role for SSM and tagging under a Patch Group
  </a>
  
    <nav class="md-nav" aria-label="Creating EC2 instance Role for SSM and tagging under a Patch Group">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-an-iam-role-for-systems-manager" class="md-nav__link">
    Create an IAM role for Systems Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach-role-to-ec2-instances" class="md-nav__link">
    Attach role to EC2 Instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-tags" class="md-nav__link">
    Add Tags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-aws-systems-manager" class="md-nav__link">
    Configure AWS Systems Manager
  </a>
  
    <nav class="md-nav" aria-label="Configure AWS Systems Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-systems-manager-iam-role" class="md-nav__link">
    Create the Systems Manager IAM Role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associate-a-systems-manager-patch-baseline-with-your-instance" class="md-nav__link">
    Associate a Systems Manager patch baseline with your instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-a-maintenance-window" class="md-nav__link">
    Define a Maintenance Window
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor-patch-compliance" class="md-nav__link">
    Monitor Patch Compliance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws-ssm-patch-manager-anatomy-and-workflow" class="md-nav__link">
    AWS SSM Patch Manager Anatomy and Workflow
  </a>
  
    <nav class="md-nav" aria-label="AWS SSM Patch Manager Anatomy and Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#patch-anatomy" class="md-nav__link">
    Patch Anatomy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-workflow" class="md-nav__link">
    Patch Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-cloudformation" class="md-nav__link">
    Deploy CloudFormation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway" class="md-nav__link">
    Takeaway
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../module4/" title="Module 4: Fleet Management at Scale" class="md-nav__link">
      Module 4: Fleet Management at Scale
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contribute/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up-and-running-amazon-inspector" class="md-nav__link">
    Setting up and Running Amazon Inspector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#patching-your-windows-and-linux-instances-with-aws-ssm-patch-manager" class="md-nav__link">
    Patching your Windows and Linux instances with AWS SSM Patch Manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-ec2-instance-role-for-ssm-and-tagging-under-a-patch-group" class="md-nav__link">
    Creating EC2 instance Role for SSM and tagging under a Patch Group
  </a>
  
    <nav class="md-nav" aria-label="Creating EC2 instance Role for SSM and tagging under a Patch Group">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-an-iam-role-for-systems-manager" class="md-nav__link">
    Create an IAM role for Systems Manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach-role-to-ec2-instances" class="md-nav__link">
    Attach role to EC2 Instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-tags" class="md-nav__link">
    Add Tags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-aws-systems-manager" class="md-nav__link">
    Configure AWS Systems Manager
  </a>
  
    <nav class="md-nav" aria-label="Configure AWS Systems Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-systems-manager-iam-role" class="md-nav__link">
    Create the Systems Manager IAM Role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associate-a-systems-manager-patch-baseline-with-your-instance" class="md-nav__link">
    Associate a Systems Manager patch baseline with your instance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-a-maintenance-window" class="md-nav__link">
    Define a Maintenance Window
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor-patch-compliance" class="md-nav__link">
    Monitor Patch Compliance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws-ssm-patch-manager-anatomy-and-workflow" class="md-nav__link">
    AWS SSM Patch Manager Anatomy and Workflow
  </a>
  
    <nav class="md-nav" aria-label="AWS SSM Patch Manager Anatomy and Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#patch-anatomy" class="md-nav__link">
    Patch Anatomy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-workflow" class="md-nav__link">
    Patch Workflow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-cloudformation" class="md-nav__link">
    Deploy CloudFormation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway" class="md-nav__link">
    Takeaway
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aws-samples/aws-vulnerability-management-workshop/edit/master/docs/module3/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="vulnerability-assessment-and-patch-manager-setup">Vulnerability Assessment and Patch Manager Setup</h1>
<p>In this section we are going to detect vulnerabilities on our live instances with <a href="https://aws.amazon.com/inspector/" target="_blank">Amazon Inspector</a>. Due to the duration of a comprehensive vulnerability assessment and the limitation of time for the workshop we will test for Security Group vulnerabilities with the Amazon Inspector Network Reachability rules package.</p>
<p>Additionally, we will show how to handle the execution of system patches utilizing approval workflows known as Patch Baselines.</p>
<h2 id="setting-up-and-running-amazon-inspector">Setting up and Running Amazon Inspector</h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use the SSM run command to install the agent on your EC2 instances if they do not have the agent installed. <a href="https://docs.aws.amazon.com/inspector/latest/userguide/inspector_installing-uninstalling-agents.html#install-run-command" target="_blank">Here</a> is how you can do it.</p>
</div>
<ol>
<li>
<p>From the Management Console, go to the <a href="https://us-east-2.console.aws.amazon.com/inspector/home?region=us-east-2#/dashboard" target="_blank">Amazon Inspector</a> page. Click the Help Me Create an Assessment.</p>
</li>
<li>
<p>Click Advanced Setup</p>
</li>
<li>
<p>Define the assessment target</p>
<ul>
<li>Uncheck the <strong>All Instances</strong> checkbox, we will be creating an assessment based on tags. Tags are words or phrases that act as metadata for identifying and organizing your instances and other AWS resources. Every AWS tag consists of a key and value pair of your choice.</li>
<li>Use <strong>Owner</strong> as the Key.</li>
<li>
<p>Select your IAM user name as the Value. You can find this as one of the values assigned to your instances by looking through the tags associated with those instances.
<img alt="inspector Assessment Target" src="images/inspectorAssessmentTarget.png" /></p>
</li>
<li>
<p>Using tags enables you to perform an assessment across different operating system types, specific applications and business units.</p>
</li>
</ul>
</li>
<li>
<p>Define an assessment template</p>
<ul>
<li>Select only the Network Reachability package.</li>
<li>Select 15 minute duration.</li>
<li>
<p>Set Assessment Schedule to 1 Days
<img alt="inspector assessment" src="images/inspectorAssessmentTemplate.png" /></p>
</li>
<li>
<p>Click Next</p>
</li>
<li>On the next screen hit Create</li>
<li>You can now see your assessment template and configure it with an SNS topic for notifications and to trigger automated actions such as alerting and patching.</li>
</ul>
<p><img alt="Inspector Assessment Template Modification" src="images/inspectorAssessmentSNS.png" /></p>
</li>
<li>
<p>Select your template and click Run</p>
</li>
<li>
<p>Click on Findings in the Navigation Pane and filter on Medium. Select one of the Medium Severity findings. You can find details as seen below in terms of Network Reachability
<img alt="Inspector Network Finding" src="images/inspectorNetworkFinding.png" /></p>
</li>
</ol>
<h2 id="patching-your-windows-and-linux-instances-with-aws-ssm-patch-manager">Patching your Windows and Linux instances with AWS SSM Patch Manager</h2>
<p>AWS Systems Manager Patch Manager automates the process of patching managed instances with both security related and other types of updates. You can use Patch Manager to apply patches for both operating systems and applications. (On Windows Server, application support is limited to updates for Microsoft applications.) You can patch fleets of EC2 instances or your on-premises servers and virtual machines (VMs) by operating system type. This includes supported versions of Windows Server, Ubuntu Server, Red Hat Enterprise Linux (RHEL), SUSE Linux Enterprise Server (SLES), CentOS, Amazon Linux, and Amazon Linux 2. You can scan instances to see only a report of missing patches, or you can scan and automatically install all missing patches.</p>
<p><img alt="SSM Patch Manager Workflow" src="images/ssm-patch-manager.PNG" /></p>
<p>Patch Manager uses patch baselines, which include rules for auto-approving patches within days of their release, as well as a list of approved and rejected patches. You can install patches on a regular basis by scheduling patching to run as a Systems Manager maintenance window task. You can also install patches individually or to large groups of instances by using Amazon EC2 tags. (Tags are keys that help identify and sort your resources within your organization.) You can add tags to your patch baselines themselves when you create or update them.</p>
<h2 id="creating-ec2-instance-role-for-ssm-and-tagging-under-a-patch-group">Creating EC2 instance Role for SSM and tagging under a Patch Group</h2>
<h3 id="create-an-iam-role-for-systems-manager">Create an IAM role for Systems Manager</h3>
<p>Before launching an Amazon EC2 instance, we recommend that your EC2 instances are associated with an instance profile with the <strong>AmazonEC2RoleforSSM</strong> AWS Managed Policy attached.</p>
<ol>
<li>
<p>Sign in to the IAM console and choose Roles in the navigation pane. Choose Create new role.
<img alt="Step 1 EC2" src="images/instance-role-ssm-step1.png" /></p>
</li>
<li>
<p>In the role-creation workflow, choose AWS service &gt; EC2 &gt; EC2 to create a role for an EC2 instance.
<img alt="Step 2 EC2" src="images/instance-role-ssm-step2.png" /></p>
</li>
<li>
<p>Choose the AmazonEC2RoleforSSM policy to attach it to the new role you are creating.
<img alt="Step 3 EC2" src="images/instance-role-ssm-step3.png" /></p>
</li>
<li>
<p>You can leave the tags blank for this role.</p>
</li>
<li>
<p>Give the role a meaningful name (I chose EC2SSM) and description, and choose <strong>Create role</strong>.
<img alt="Step 4 EC2" src="images/instance-role-ssm-step4.png" /></p>
</li>
</ol>
<h3 id="attach-role-to-ec2-instances">Attach role to EC2 Instances</h3>
<ol>
<li>Navigate the EC2 console and select one of your instances from Module 1.</li>
<li>Select that instance and then click on the <strong>Actions</strong> drop down</li>
<li>Select <strong>Instance Settings</strong> and then Attach/Replace IAM Role</li>
<li>Select the IAM Role that you just created and hit <strong>Apply</strong></li>
</ol>
<h3 id="add-tags">Add Tags</h3>
<p>The final step of configuring your EC2 instances is to add tags to the instances you just attached the EC2SSM role to. You will use these tags to configure Systems Manager later in this module. For this example I add a tag with a key of <em>Patch Group</em> and value of <em>Windows Servers</em>. I could have other groups of EC2 instances that I treat differently by having the same tag key but a different tag value. For example, I might have a collection of other servers with the Patch Group tag key with a value of IIS Servers.</p>
<p><img alt="Step 5 EC2" src="images/instance-role-ssm-step5.png" /></p>
<h2 id="configure-aws-systems-manager">Configure AWS Systems Manager</h2>
<p>In this section, I show you how to use Systems Manager to apply operating system patches to your EC2 instances, and how to manage patch compliance.</p>
<p>To start, I will provide some background information about Systems Manager. Then, I will cover how to:</p>
<ul>
<li>Create the Systems Manager IAM role so that Systems Manager is able to perform patch operations.</li>
<li>Associate a Systems Manager patch baseline with your instance to define which patches Systems Manager should apply.</li>
<li>Define a maintenance window to make sure Systems Manager patches your instance when you tell it to.</li>
<li>Monitor patch compliance to verify the patch state of your instances.</li>
</ul>
<p>AWS Systems Manager is an AWS service that you can use to view and control your infrastructure on AWS. Systems Manager helps you maintain security and compliance by scanning your managed instances and reporting on (or taking corrective action on) any policy violations it detects. In this section, we use Systems Manager for two purposes: to run remote commands and apply operating system patches.</p>
<p>There are two prerequisites to use Systems Manager to apply operating system patches. First, you must attach the IAM role you created in the previous section, EC2SSM, to your EC2 instance. Second, you must install the Systems Manager agent on your EC2 instance. The Systems Manager agent comes pre-installed on recent Linux and Windows AMIs published by AWS.</p>
<p>To make sure your EC2 instance receives operating system patches from Systems Manager, you will use the default patch baseline provided and maintained by AWS, and you will define a maintenance window. For the maintenance window to be able to run any tasks, you also must create a new role for Systems Manager. Earlier we created the <em>EC2SSM</em> role with the <em>AmazonEC2RoleforSSM</em> policy, which allowed the Systems Manager agent on our instance to communicate with the Systems Manager service. Here we need a new role with the policy <em>AmazonSSMMaintenanceWindowRole</em> to make sure the Systems Manager service is able to execute commands on our instance.</p>
<h3 id="create-the-systems-manager-iam-role">Create the Systems Manager IAM Role</h3>
<p>To create the new IAM role for Systems Manager, follow the same procedure as in the previous section, but in Step 3, choose the <strong>AmazonSSMMaintenanceWindowRole</strong> policy.
<img alt="SSM Part 1" src="images/ssm-role-step1.png" /></p>
<p>Finish the wizard and give your new role a recognizable name. For example, I named my role MaintenanceWindowRole</p>
<p>By default, only EC2 instances can assume this new role. You must update the trust policy to enable Systems Manager to assume this role.</p>
<p>To update the trust policy associated with this new role:</p>
<ol>
<li>
<p>Navigate to the IAM console and choose <strong>Roles</strong> in the navigation pane.</p>
</li>
<li>
<p>Choose <strong>MaintenanceWindowRole</strong> and choose the <strong>Trust relationships</strong> tab. Then choose <strong>Edit trust relationship</strong>.
<img alt="SSM Step 2" src="images/ssm-role-step2.png" /></p>
</li>
<li>
<p>Update the policy document by copying the following policy and pasting it in the Policy Document box. As you can see, I have added the <a href="https://aws.amazon.com/systems-manager/" target="_blank">SSM</a> service to the list of allowed Principals that can assume this role. Choose Update Trust Policy.</p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="err">{</span>
<span class="err">   &quot;Version&quot;:&quot;2012-10-17&quot;,</span>
<span class="err">   &quot;Statement&quot;:[</span>
<span class="err">      {</span>
<span class="err">         &quot;Sid&quot;:&quot;&quot;,</span>
<span class="err">         &quot;Effect&quot;:&quot;Allow&quot;,</span>
<span class="err">         &quot;Principal&quot;:{</span>
<span class="err">            &quot;Service&quot;:[</span>
<span class="err">               &quot;ec2.amazonaws.com&quot;,</span>
<span class="err">               &quot;ssm.amazonaws.com&quot;</span>
<span class="err">           ]</span>
<span class="err">         },</span>
<span class="err">         &quot;Action&quot;:&quot;sts:AssumeRole&quot;</span>
<span class="err">      }</span>
<span class="err">   ]</span>
<span class="err">}</span>
</code></pre></div>


<h3 id="associate-a-systems-manager-patch-baseline-with-your-instance">Associate a Systems Manager patch baseline with your instance</h3>
<p>Next, you are going to associate a Systems Manager patch baseline with your EC2 instance. A patch baseline defines which patches Systems Manager should apply. You will use the default patch baseline that AWS manages and maintains. Before you can associate the patch baseline with your instance, you must determine if Systems Manager recognizes your EC2 instance.</p>
<p>Navigate to the Systems Manager console, select <strong>Managed Instances</strong> under the <strong>Instances &amp; Nodes</strong> dropdown. Your new EC2 instance should be available there
<img alt="SSM Step 3" src="images/ssm-role-step3.png" /></p>
<p>Now that you have confirmed that Systems Manager can manage your EC2 instance, it is time to associate the AWS maintained patch baseline with your EC2 instance:</p>
<ol>
<li>
<p>Choose <strong>Patch Manager</strong> under <strong>Instances &amp; Nodes</strong> in the sidebar of the AWS Systems Manager Console.</p>
</li>
<li>
<p>Choose <strong>View predefined patch baselines</strong> as highlighted in the following screenshot.
<img alt="SSM Step 4" src="images/ssm-role-step4.png" /></p>
</li>
<li>
<p>Select the <em>AWS-DefaultPatchBasline</em> and then choose <strong>Modify Patch Groups</strong> in the <strong>Actions</strong> drop-down.
<img alt="SSM Step 4.5" src="images/ssm-role-step45.png" /></p>
</li>
<li>
<p>In the Patch group box, enter the same value you entered under the Patch Group tag of your EC2 instance. In this example, the value I enter is Windows Servers. Click the <strong>Add</strong> button next to the patch group and click <strong>Close</strong>.
<img alt="SSM Step 5" src="images/ssm-role-step5.png" /></p>
</li>
</ol>
<h3 id="define-a-maintenance-window">Define a Maintenance Window</h3>
<p>Now that you have successfully set up a role and have associated a patch baseline with your EC2 instance, you will define a maintenance window so that you can control when your EC2 instances should receive patches. By creating multiple maintenance windows and assigning them to different patch groups, you can make sure your EC2 instances do not all reboot at the same time. The <em>Patch Group</em> resource tag you defined earlier will determine to which patch group an instance belongs.</p>
<ol>
<li>
<p>Navigate to the Systems Manager console, in the sidebar under <strong>Actions &amp; Change</strong> choose <strong>Maintenance Windows</strong>. Choose Create a Maintenance Window.
<img alt="Maint Wind Step1" src="images/maint-window-step1.png" /></p>
</li>
<li>
<p>Select the Cron schedule builder to define the schedule for the maintenance window. In the example in the following screenshot, the maintenance window will start every Saturday at 10:00 P.M. UTC.</p>
</li>
<li>
<p>To specify when your maintenance window will end, specify the duration. In this example, the four-hour maintenance window will end on the following Sunday morning at 2:00 A.M. UTC.</p>
</li>
<li>
<p>Lastly uncheck the <em>Allow unregistered targets</em> box.
<img alt="Maint Wind Step2" src="images/maint-window-step2.png" /></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Systems manager completes all tasks that are in process, even if the maintenance window ends. In this example, we are choosing to prevent new tasks from starting within one hour of the end of my maintenance window because we estimated that patch operations might take longer than one hour to complete.</p>
</div>
</li>
<li>
<p>Confirm the creation of the maintenance window by choosing <strong>Create maintenance</strong> button.</p>
</li>
<li>
<p>You must register the EC2 instances to the maintenance window so that Systems Manager knows which EC2 instance it should patch. To do so, choose <strong>Register targets</strong> by selecting the option under <strong>Actions</strong> after you select your new maintenance window. You can register your targets by using the same Patch Group tag you used before to associate the EC2 instance with the AWS-provided patch baseline.
<img alt="Maint Wind Step3" src="images/maint-window-step3.png" /></p>
</li>
<li>
<p>Assign a task to the maintenance window that will install the operating system patches on your EC2 instance:</p>
<ul>
<li>Open <strong>Maintenance Windows</strong> in the Systems Manager console, select your previously created maintenance window and choose <strong>Register run command</strong> task from the <strong>Actions</strong> drop-down.</li>
<li>For <strong>Maintenance window task details</strong>:<ul>
<li>Give the Maintenance Window an optional Name and Description</li>
</ul>
</li>
<li>For <strong>Comand document</strong>:<ul>
<li>Search for the <em>AWS-RunPatchBaseline</em> document from the list of available documents.</li>
</ul>
</li>
<li>For <strong>Targets</strong>:<ul>
<li>Select your previously created <em>Window Target ID</em></li>
</ul>
</li>
<li>
<p>For <strong>Rate control</strong>:</p>
<ul>
<li>Specify your Concurrency and Error threshold</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you have a large number of EC2 instances and want to patch all EC2 instances within the defined time, make sure this number is not too low. For example, if you have 1,000 EC2 instances, a maintenance window of 4 hours, and 2 hours’ time for patching, make this number at least 500.</p>
</div>
</li>
<li>
<p>For <strong>IAM service role</strong></p>
<ul>
<li>Choose the role you created previously (called <em>MaintenanceWindowRole</em>).</li>
</ul>
</li>
<li>Leave <strong>Output options</strong> and <strong>SNS notifications</strong> unchecked</li>
<li>For <strong>Parameters</strong>:<ul>
<li>For <strong>Operation</strong>, choose Install to make sure to install the patches.</li>
<li>Leave the rest of the Parameters to default or no values</li>
</ul>
</li>
<li>Click <strong>Register Run command task</strong></li>
</ul>
</li>
</ol>
<p>Now, you must wait for the maintenance window to run at least once according to the schedule you defined earlier. Note that if you don’t want to wait, you can adjust the schedule to run sooner by choosing Edit maintenance window on the Maintenance Windows page of Systems Manager. If your maintenance window has passed, you can check the status of any maintenance tasks Systems Manager has performed on the Maintenance Windows page of Systems Manager by selecting your maintenance window.</p>
<h3 id="monitor-patch-compliance">Monitor Patch Compliance</h3>
<p>You also can see the overall patch compliance of all EC2 instances that are part of defined patch groups by choosing <strong>Compliance</strong> under the <strong>Instances &amp; Nodes</strong> tab in the Systems Manager Console. You can filter by Patch Group to see how many EC2 instances within the selected patch group are up to date, how many EC2 instances are missing updates, and how many EC2 instances are in an error state.
<img alt="SSM Step 12" src="images/monitor-compliance.png" /></p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If you check the Compliance tab in the Systems Manager console during this lab you may not see any results due to the Task in your Maintenance Window not running yet.</p>
</div>
<h2 id="aws-ssm-patch-manager-anatomy-and-workflow">AWS SSM Patch Manager Anatomy and Workflow</h2>
<h3 id="patch-anatomy">Patch Anatomy</h3>
<p>The Patch Anatomy automation can be seen below:</p>
<p><img alt="Patch Mngr Workflow" src="images/patchmanagerworkflow.png" /></p>
<p>As we showed, with AWS Systems Manager you have the capability to, select the patches you want to deploy and control timing for patch roll-outs and instance reboots, define auto-approval rules for patches and have the ability to black-list or white-list specific patches in addition to scheduling the automatic roll out through maintenance windows.</p>
<h3 id="patch-workflow">Patch Workflow</h3>
<p>We included a CloudFormation that will create the following Patch management Workflow</p>
<p><img alt="Patch Mngr Workflow 2" src="images/patchmanagerworkflow2.png" /></p>
<ol>
<li>
<p>Create necessary roles</p>
<ul>
<li>The roles to enable the EC2 instance communicate with SSM and SSM to communicate with the EC2 instance to be created.</li>
</ul>
</li>
<li>
<p>Create EC2 fleet with Patch Groups</p>
<ul>
<li>Create EC2 instances with the instance profile created above and attach the ‘Patch Group’ tag to the associated instances.</li>
</ul>
</li>
<li>
<p>Create patch baseline</p>
<ul>
<li>A patch baseline defines which patches are approved for installation on your instances. You can specify approved or rejected patches one by one.</li>
<li>Auto-approval rules specify that certain types of updates (for example, critical updates) should be automatically approved. The rejected list overrides both the rules and the approve list.</li>
<li>
<p>Create patch groups</p>
</li>
<li>
<p>Patch groups can be defined by the type of operating system, compliance level and classification of the patch.</p>
</li>
</ul>
</li>
<li>
<p>Create a maintenance window</p>
<ul>
<li>This is the scheduler that maps through the list of registered targets and the corresponding tasks to be executed.</li>
<li>The task registry has the document to be executed and the priority where multiple tasks are involved and attach the execution role created earlier.</li>
</ul>
</li>
</ol>
<h3 id="deploy-cloudformation">Deploy CloudFormation</h3>
<details class="info"><summary>Click here if you're running this individually in your own AWS Account</summary><p>Launch the CloudFormation stack below to setup the SSM Patch Management Script:</p>
<table>
<thead>
<tr>
<th>Region</th>
<th>Deploy</th>
</tr>
</thead>
<tbody>
<tr>
<td>US East 2 (Ohio)</td>
<td><a href="https://console.aws.amazon.com/cloudformation/home?region=us-east-2#/stacks/new?stackName=Vuln-Mngmt-Wksp-Module-3-SSM-Patch-Management&templateURL=https://wkshp-avmw-cfn-templates-q3klzl70esd4zsc6.s3.us-east-2.amazonaws.com/SSM-Automation-Setup.yml" target="_blank"><img alt="Deploy in us-east-2" src="images/deploy-to-aws.png" /></a></td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>Click the <strong>Deploy to AWS</strong> button above (right click and open in a new tab).  This will automatically take you to the console to run the template.  </p>
</li>
<li>
<p>Click <strong>Next</strong> on the <strong>Specify Template</strong> section.</p>
</li>
<li>
<p>On the <strong>Specify Details</strong> step click <strong>Next</strong>.</p>
</li>
<li>
<p>Click <strong>Next</strong> on the <strong>Options</strong> section.</p>
</li>
<li>
<p>Finally, acknowledge that the template will create IAM roles under <strong>Capabilities</strong> and click <strong>Create</strong>.</p>
</li>
</ol>
<p>This will bring you back to the CloudFormation console. You can refresh the page to see the stack starting to create. Before moving on, make sure the stack is in a <strong>CREATE_COMPLETE</strong>.</p>
</details>
<p><strong>Expected Outcome</strong></p>
<p>The instances which are scanned and ready to be patched using the Patch Manager will be visible under the EC2 – SSM – Managed Instances.</p>
<p>The compliance report can be fetched with filter by tag values (‘Windows2012-PatchGroup’ for Windows and ‘Amz_Linux_Patch_Group’ for Amazon Linux) or by instance id. The data will display the instances that are compliant and/or instances that need patching. This provides complete audit capability on your environment.</p>
<h3 id="takeaway">Takeaway</h3>
<p>In this module, you have set everything up for patch management on your instance. Now you know how to patch your EC2 instance in a controlled manner and how to check if your EC2 instance is compliant with the patch baseline you have defined. Of course, I recommend that you apply these steps to all EC2 instances you manage.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../module2/" title="Module 2: AMI Factory" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Module 2: AMI Factory
              </div>
            </div>
          </a>
        
        
          <a href="../module4/" title="Module 4: Fleet Management at Scale" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Module 4: Fleet Management at Scale
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <a href="https://aws.amazon.com/privacy/" target="_blank">Privacy</a> | <a href="https://aws.amazon.com/terms/" target="_blank">Site terms</a> | &copy; 2020, Amazon Web Services, Inc. or its affiliates. All rights reserved.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://awssecworkshops.com" target="_blank" rel="noopener" title="awssecworkshops.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26L96 300.11V464a16 16 0 0016 16l112.06-.29a16 16 0 0015.92-16V368a16 16 0 0116-16h64a16 16 0 0116 16v95.64a16 16 0 0016 16.05L464 480a16 16 0 0016-16V300L295.67 148.26a12.19 12.19 0 00-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 00-12-12h-56a12 12 0 00-12 12v72.61L318.47 43a48 48 0 00-61 0L4.34 251.47a12 12 0 00-1.6 16.9l25.5 31A12 12 0 0045.15 301l235.22-193.74a12.19 12.19 0 0115.3 0L530.9 301a12 12 0 0016.9-1.6l25.5-31a12 12 0 00-1.7-16.93z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M466.5 83.7l-192-80a48.15 48.15 0 00-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/awssecurityinfo?lang=en" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/blogs/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.d1f5a259.min.js"></script>
      <script src="../assets/javascripts/bundle.d5fec882.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.fae956e7.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>